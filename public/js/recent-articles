/*eslint no-undef: "error"*/
/*eslint-env browser*/
const slideEl0 = document.getElementById("articleContainer");
const slideEl1 = document.getElementById("articleContainer");
const slideEl2 = document.getElementById("articleContainer");
const slideEl3 = document.getElementById("articleContainer");
const slideEl4 = document.getElementById("articleContainer");
let slideCounter = 0;
//js get requests to display all articles to articles.html

async function displayArticles() {
    console.log("displaying articles")
    try {
        let allArticlesHtml = "";
        // performs a get request to the backend, which performs a findAll request to the db
        // how to rename during deconstruction https://wesbos.com/destructuring-renaming/
        const { data: allArticles } = await axios.get("/api/articles")
        // Loops through all the articles in the database and creates divs for them
      
        for (let i = allArticles.length-5; i < allArticles.length; i++) {
            const { title, text, image_string } = allArticles[i]

            const articleHtml = `<div class="card my-5">
            <div class="card-header">
              ${title}
            </div>
            <div class="card-body">
            <div>
                <img src="${image_string}"/>
              </div>
              <div>
                <p>${text}</p>
              </div>
              
            </div>
          </div>`

            // adds article html to all articles html
            allArticlesHtml += articleHtml;

            // increases slide counter
            slideCounter += 1;
        }
        //adds all articles html to article container
        console.log(allArticlesHtml);
        slideEl[slideCounter].innerHTML = allArticlesHtml;

    } catch (err) {
        console.log("Error retrieving articles ", err);
    }
}
displayArticles();






//js get requests to display jake articles jake page